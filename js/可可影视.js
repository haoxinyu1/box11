var rule = {
    //å®šä¹‰è·å–å›¾ç‰‡åœ°å€åŸŸåå˜é‡
    img_host: '',

    author: 'å°å¯ä¹/2509/ç¬¬äºŒç‰ˆ',
    title: 'å¯å¯å½±è§†',
    ç±»å‹: 'å½±è§†',
    host: 'https://www.kkys01.com',
    hostJs: '',
    headers: {'User-Agent': 'MOBILE_UA'},
    ç¼–ç : 'utf-8',
    timeout: 5000,

    homeUrl: '/',
    url: '/show/fyclass-fyfilter-fypage.html',
    filter_url: '{{fl.class}}-{{fl.area}}-{{fl.lang}}-{{fl.year}}-{{fl.by}}',
    searchUrl: '/search?k=**&page=fypage&t=',
    detailUrl: '',

    limit: 9,
    double: false,
    class_name: 'ç”µå½±&å‰§é›†&ç»¼è‰º&åŠ¨æ¼«&çŸ­å‰§',
    class_url: '1&2&4&3&6',

    é¢„å¤„ç†: $js.toString(() => {
        const sha1ToUint8ArrayLatin1 = str => {
            if (typeof str !== 'string') {
                return null;
            }
            try {
                let latin1Str = CryptoJS.SHA1(str).toString(CryptoJS.enc.Latin1);
                let u8Array = Uint8Array.from(latin1Str, char => char.charCodeAt(0));
                return u8Array;
            } catch (e) {
                return null;
            }
        }
        let hashPre = request(HOST)?.match(/a0_0x2a54\s*=\s*\['([^']+)'/)?.[1]?.trim() ?? '';
        if (hashPre != '' && hashPre != getItem('hashpre')) {
            setItem('tgcookie', '');
            setItem('hashpre', '');
            let hashIdx = parseInt('0x' + hashPre[0], 16);
            if (Number.isInteger(hashIdx) && hashIdx >= 0 && hashIdx <= 18) {
                let cookieFound = false;
                let maxLoop = 100000;
                for (let i = 0; i < maxLoop && !cookieFound; i++) {
                    let hashInput = `${hashPre}${i}`;
                    let sha1Arr = sha1ToUint8ArrayLatin1(hashInput);
                    if (sha1Arr && sha1Arr[hashIdx] === 0xb0 && sha1Arr[hashIdx + 1] === 0x0b) {
                        let defendCookie = `cdndefend_js_cookie=${hashInput}`;
                        setItem('hashpre', hashPre);
                        setItem('tgcookie', defendCookie);
                        cookieFound = true;
                    }
                }
            }
        }
        if (getItem('tgcookie')) {
            rule_fetch_params.headers['cookie'] = getItem('tgcookie');
        }
        let khtml = fetch(HOST, {
            headers: rule_fetch_params.headers
        });
        let tValue = khtml.match(/<input[^>]*name="t"[^>]*value="([^"]*)"/i);
        if (tValue && tValue[1]) {
            rule.searchUrl = rule.searchUrl + encodeURIComponent(tValue[1]);
        }
        let scripts = pdfa(khtml, 'script');
        let img_script = scripts.find((it) => pdfh(it, 'script&&src').includes('rdul.js'));
        if (img_script) {
            let img_url = img_script.match(/src="(.*?)"/)[1];
            let img_html = fetch(img_url);
            rule.img_host = img_html.match(/'(.*?)'/)[1];
            rule.å›¾ç‰‡æ›¿æ¢ = HOST + '=>' + rule.img_host;
        }
    }),

    æ¨è: '*',
    ä¸€çº§: '.module-item;.v-item-title:eq(1)&&Text;img:eq(-1)&&data-original;span:eq(-1)&&Text;a&&href',
    æœç´¢: $js.toString(() => {
        let t = pdfh(fetch(input), 'input:eq(0)&&value');
        input = input.split('?')[0];
        let surl = `${input}?k=${KEY}&page=${MY_PAGE}&t=${t}`;
        let khtml = fetch(surl);
        VODS = [];
        let klists = pdfa(khtml, '.search-result-item');
        klists.forEach((it) => {
            VODS.push({
                vod_name: pdfh(it, 'img&&alt'),
                vod_pic: pd(it, 'img&&data-original', rule.img_host),
                vod_remarks: pdfh(it, '.search-result-item-header&&Text'),
                vod_id: pdfh(it, 'a&&href')
            });
        });
    }),
    äºŒçº§: {
        title: '.detail-title&&strong:eq(1)&&Text;.detail-tags&&Text',
        img: '.detail-pic&&img&&data-original',
        desc: '.detail-info-row-main:eq(-2)&&Text;.detail-tags-item:eq(0)&&Text;.detail-tags-item:eq(1)&&Text;.detail-info-row-main:eq(1)&&Text;.detail-info-row-main:eq(0)&&Text',
        content: '.detail-desc&&Text',
        tabs: '.source-item',
        tab_text: 'span:eq(-1)&&Text',
        lists: '.episode-list:eq(#id)&&a',
        list_text: 'body&&Text',
        list_url: 'a&&href',
    },
    tab_remove: ['4K(é«˜å³°ä¸å¡)'],
    tab_rename:{'è¶…æ¸…1':'å°¤ä¸œé£ğŸ’ è¶…æ¸…','FFçº¿è·¯':'å°¤ä¸œé£ğŸ’ éå‡¡','è…¾è®¯åŠ é€Ÿ':'å°¤ä¸œé£ğŸ’ è…¾è®¯','è“å…‰åŠ é€Ÿ':'å°¤ä¸œé£ğŸ’ è“å…‰'},
    play_parse: true,
    lazy: $js.toString(() => {
        let kurl = input;
        let khtml = request(kurl);
        if (/dujia/.test(khtml)) {
            kurl = khtml.split("PPPP = '")[1].split("';")[0];
            const key = CryptoJS.enc.Utf8.parse('Isu7fOAvI6!&IKpAbVdhf&^F');
            const dataObj = {
                ciphertext: CryptoJS.enc.Base64.parse(kurl)
            };
            const decrypted = CryptoJS.AES.decrypt(dataObj, key, {
                mode: CryptoJS.mode.ECB,
                padding: CryptoJS.pad.Pkcs7
            });
            kurl = decrypted.toString(CryptoJS.enc.Utf8);
        } else {
            kurl = khtml.split('src: "')[1].split('",')[0];
        }
        input = {
            jx: 0,
            parse: 0,
            url: kurl,
            header: rule.headers
        };
    }),
    filter:{
        "1":[{"key":"class",
        "name":"ç±»å‹",
        "value":[
        {"n":"å…¨éƒ¨","v":""},
        {"n":"å‰§æƒ…","v":"å‰§æƒ…"},
        {"n":"å–œå‰§","v":"å–œå‰§"},
        {"n":"åŠ¨ä½œ","v":"åŠ¨ä½œ"},
        {"n":"çˆ±æƒ…","v":"çˆ±æƒ…"},
        {"n":"ææ€–","v":"ææ€–"},
        {"n":"æƒŠæ‚š","v":"æƒŠæ‚š"},
        {"n":"çŠ¯ç½ª","v":"çŠ¯ç½ª"},
        {"n":"ç§‘å¹»","v":"ç§‘å¹»"},
        {"n":"æ‚¬ç–‘","v":"æ‚¬ç–‘"},
        {"n":"å¥‡å¹»","v":"å¥‡å¹»"},
        {"n":"å†’é™©","v":"å†’é™©"},
        {"n":"æˆ˜äº‰","v":"æˆ˜äº‰"},
        {"n":"å†å²","v":"å†å²"},
        {"n":"å¤è£…","v":"å¤è£…"},
        {"n":"å®¶åº­","v":"å®¶åº­"},
        {"n":"ä¼ è®°","v":"ä¼ è®°"},
        {"n":"èŒåœº","v":"èŒåœº"},
        {"n":"åŠ¨ç”»","v":"åŠ¨ç”»"},
        {"n":"æ­¦ä¾ ","v":"æ­¦ä¾ "}
        ]
        },
        {"key":"year",
        "name":"å¹´ä»½",
        "value":[
        {"n":"å…¨éƒ¨","v":""},
        {"n":"2025","v":"2025"},
        {"n":"2024","v":"2024"},
        {"n":"2023","v":"2023"},
        {"n":"2022","v":"2022"},
        {"n":"2021","v":"2021"},
        {"n":"2020","v":"2020"},
        {"n":"10å¹´ä»£","v":"10å¹´ä»£"},
        {"n":"00å¹´ä»£","v":"00å¹´ä»£"},
        {"n":"90å¹´ä»£","v":"90å¹´ä»£"},
        {"n":"80å¹´ä»£","v":"80å¹´ä»£"},
        {"n":"æ›´æ—©","v":"æ›´æ—©"}
        ]
        },
        {"key":"area",
         "name":"åœ°åŒº",
        "value":[
        {"n":"å…¨éƒ¨","v":""},
        {"n":"å¤§é™†","v":"ä¸­å›½å¤§é™†"},
        {"n":"é¦™æ¸¯","v":"ä¸­å›½é¦™æ¸¯"},
        {"n":"ç¾å›½","v":"ç¾å›½"},
        {"n":"æ—¥æœ¬","v":"æ—¥æœ¬"},
        {"n":"éŸ©å›½","v":"éŸ©å›½"},
        {"n":"è‹±å›½","v":"è‹±å›½"},
        {"n":"æ³•å›½","v":"æ³•å›½"},
        {"n":"å°åº¦","v":"å°åº¦"},
        {"n":"ä¸¹éº¦","v":"ä¸¹éº¦"},
        {"n":"ç‘å…¸","v":"ç‘å…¸"},
        {"n":"å·´è¥¿","v":"å·´è¥¿"},
        {"n":"åŠ æ‹¿å¤§","v":"åŠ æ‹¿å¤§"},
        {"n":"ä¿„ç½—æ–¯","v":"ä¿„ç½—æ–¯"},
        {"n":"æ„å¤§åˆ©","v":"æ„å¤§åˆ©"},
        {"n":"æ¯”åˆ©æ—¶","v":"æ¯”åˆ©æ—¶"},
        {"n":"çˆ±å°”å…°","v":"çˆ±å°”å…°"},
        {"n":"è¥¿ç­ç‰™","v":"è¥¿ç­ç‰™"},
        {"n":"æ¾³å¤§åˆ©äºš","v":"æ¾³å¤§åˆ©äºš"}
        ]
        },
        
        {"key":"by",
        "name":"æ’åº",
        "value":[
        {"n":"ç»¼åˆ","v":"1"},
        {"n":"æœ€æ–°","v":"2"},
        {"n":"æœ€çƒ­","v":"3"},
        {"n":"è¯„åˆ†","v":"4"}
        ]
        }
        ],
        "2":[{"key":"class",
        "name":"ç±»å‹",
        "value":[
        {"n":"å…¨éƒ¨","v":""},
        {"n":"å‰§æƒ…","v":"å‰§æƒ…"},
        {"n":"å–œå‰§","v":"å–œå‰§"},
        {"n":"åŠ¨ä½œ","v":"åŠ¨ä½œ"},
        {"n":"çˆ±æƒ…","v":"çˆ±æƒ…"},
        {"n":"ææ€–","v":"ææ€–"},
        {"n":"æƒŠæ‚š","v":"æƒŠæ‚š"},
        {"n":"çŠ¯ç½ª","v":"çŠ¯ç½ª"},
        {"n":"ç§‘å¹»","v":"ç§‘å¹»"},
        {"n":"æ‚¬ç–‘","v":"æ‚¬ç–‘"},
        {"n":"å¥‡å¹»","v":"å¥‡å¹»"},
        {"n":"å†’é™©","v":"å†’é™©"},
        {"n":"æˆ˜äº‰","v":"æˆ˜äº‰"},
        {"n":"å†å²","v":"å†å²"},
        {"n":"å¤è£…","v":"å¤è£…"},
        {"n":"å®¶åº­","v":"å®¶åº­"},
        {"n":"ä¼ è®°","v":"ä¼ è®°"},
        {"n":"èŒåœº","v":"èŒåœº"},
        {"n":"åŠ¨ç”»","v":"åŠ¨ç”»"},
        {"n":"æ­¦ä¾ ","v":"æ­¦ä¾ "}
        ]
        },
        
        {"key":"area",
         "name":"åœ°åŒº",
        "value":[
        {"n":"å¤§é™†","v":"ä¸­å›½å¤§é™†"},
        {"n":"é¦™æ¸¯","v":"ä¸­å›½é¦™æ¸¯"},
        {"n":"éŸ©å›½","v":"éŸ©å›½"},
        {"n":"ç¾å›½","v":"ç¾å›½"},
        {"n":"æ—¥æœ¬","v":"æ—¥æœ¬"},
        {"n":"æ³•å›½","v":"æ³•å›½"},
        {"n":"è‹±å›½","v":"è‹±å›½"},
        {"n":"å¾·å›½","v":"å¾·å›½"},
        {"n":"å°æ¹¾","v":"ä¸­å›½å°æ¹¾"},
        {"n":"æ³°å›½","v":"æ³°å›½"},
        {"n":"å°åº¦","v":"å°åº¦"},
        {"n":"å…¶ä»–","v":"å…¶ä»–"}
        ]
        },
        {"key":"year",
        "name":"å¹´ä»½",
        "value":[
        {"n":"å…¨éƒ¨","v":""},
        {"n":"2025","v":"2025"},
        {"n":"2024","v":"2024"},
        {"n":"2023","v":"2023"},
        {"n":"2022","v":"2022"},
        {"n":"2021","v":"2021"},
        {"n":"2020","v":"2020"},
        {"n":"10å¹´ä»£","v":"10å¹´ä»£"},
        {"n":"00å¹´ä»£","v":"00å¹´ä»£"},
        {"n":"90å¹´ä»£","v":"90å¹´ä»£"},
        {"n":"80å¹´ä»£","v":"80å¹´ä»£"},
        {"n":"æ›´æ—©","v":"æ›´æ—©"}
        ]
        },
        
        {"key":"by",
        "name":"æ’åº",
        "value":[
        {"n":"ç»¼åˆ","v":"1"},
        {"n":"æœ€æ–°","v":"2"},
        {"n":"æœ€çƒ­","v":"3"},
        {"n":"è¯„åˆ†","v":"4"}
        ]
        }
        ],
       "3":[{"key":"class",
        "name":"ç±»å‹",
        "value":[
        {"n":"å…¨éƒ¨","v":""},
        {"n":"åŠ¨æ€æ¼«ç”»","v":"åŠ¨æ€æ¼«ç”»"},
        {"n":"å‰§æƒ…","v":"å‰§æƒ…"},
        {"n":"åŠ¨ç”»","v":"åŠ¨ç”»"},
        {"n":"å–œå‰§","v":"å–œå‰§"},
        {"n":"å†’é™©","v":"å†’é™©"},
        {"n":"åŠ¨ä½œ","v":"åŠ¨ä½œ"},
        {"n":"å¥‡å¹»","v":"å¥‡å¹»"},
        {"n":"ç§‘å¹»","v":"ç§‘å¹»"},
        {"n":"å„¿ç«¥","v":"å„¿ç«¥"},
        {"n":"æç¬‘","v":"æç¬‘"},
        {"n":"çˆ±æƒ…","v":"çˆ±æƒ…"},
        {"n":"å®¶åº­","v":"å®¶åº­"},
        {"n":"çŸ­ç‰‡","v":"çŸ­ç‰‡"},
        {"n":"çƒ­è¡€","v":"çƒ­è¡€"},
        {"n":"ç›Šæ™º","v":"ç›Šæ™º"},
        {"n":"æ‚¬ç–‘","v":"æ‚¬ç–‘"},
        {"n":"ç»å…¸","v":"ç»å…¸"},
        {"n":"æ ¡å›­","v":"æ ¡å›­"},
        {"n":"Anime","v":"Anime"},
        {"n":"è¿åŠ¨","v":"è¿åŠ¨"},
        {"n":"äº²å­","v":"äº²å­"},
        {"n":"é’æ˜¥","v":"é’æ˜¥"},
        {"n":"æ‹çˆ±","v":"æ‹çˆ±"},
        {"n":"æ­¦ä¾ ","v":"æ­¦ä¾ "},
        {"n":"æƒŠæ‚š","v":"æƒŠæ‚š"}
        ]
        },
        
        {"key":"area",
         "name":"åœ°åŒº",
        "value":[
        {"n":"å¤§é™†","v":"ä¸­å›½å¤§é™†"},
        {"n":"é¦™æ¸¯","v":"ä¸­å›½é¦™æ¸¯"},
        {"n":"å°æ¹¾","v":"ä¸­å›½å°æ¹¾"},
        {"n":"éŸ©å›½","v":"éŸ©å›½"},
        {"n":"ç¾å›½","v":"ç¾å›½"},
        {"n":"æ—¥æœ¬","v":"æ—¥æœ¬"},
        {"n":"æ³•å›½","v":"æ³•å›½"},
        {"n":"è‹±å›½","v":"è‹±å›½"},
        {"n":"å¾·å›½","v":"å¾·å›½"},
        {"n":"æ³°å›½","v":"æ³°å›½"},
        {"n":"å°åº¦","v":"å°åº¦"},
        {"n":"å…¶ä»–","v":"å…¶ä»–"}
        ]
        },
        {"key":"year",
        "name":"å¹´ä»½",
        "value":[
        {"n":"å…¨éƒ¨","v":""},
        {"n":"2025","v":"2025"},
        {"n":"2024","v":"2024"},
        {"n":"2023","v":"2023"},
        {"n":"2022","v":"2022"},
        {"n":"2021","v":"2021"},
        {"n":"2020","v":"2020"},
        {"n":"10å¹´ä»£","v":"10å¹´ä»£"},
        {"n":"00å¹´ä»£","v":"00å¹´ä»£"},
        {"n":"90å¹´ä»£","v":"90å¹´ä»£"},
        {"n":"80å¹´ä»£","v":"80å¹´ä»£"},
        {"n":"æ›´æ—©","v":"æ›´æ—©"}
        ]
        },
        
        {"key":"by",
        "name":"æ’åº",
        "value":[
        {"n":"ç»¼åˆ","v":"1"},
        {"n":"æœ€æ–°","v":"2"},
        {"n":"æœ€çƒ­","v":"3"},
        {"n":"è¯„åˆ†","v":"4"}
        ]
        }
        ],
        "4":[{"key":"year","name":"å¹´ä»½","value":[{"n":"å…¨éƒ¨","v":""},{"n":"2025","v":"2025"},{"n":"2024","v":"2024"},{"n":"2023","v":"2023"},{"n":"2022","v":"2022"},{"n":"2021","v":"2021"},{"n":"2020","v":"2020"},{"n":"10å¹´ä»£","v":"10å¹´ä»£"},{"n":"00å¹´ä»£","v":"00å¹´ä»£"},{"n":"90å¹´ä»£","v":"90å¹´ä»£"},{"n":"80å¹´ä»£","v":"80å¹´ä»£"},{"n":"æ›´æ—©","v":"æ›´æ—©"}]},{"key":"area","name":"åœ°åŒº","value":[{"n":"å…¨éƒ¨","v":""},{"n":"å¤§é™†","v":"å¤§é™†"},{"n":"é¦™æ¸¯","v":"é¦™æ¸¯"},{"n":"å°æ¹¾","v":"å°æ¹¾"},{"n":"ç¾å›½","v":"ç¾å›½"},{"n":"æ—¥æœ¬","v":"æ—¥æœ¬"},{"n":"éŸ©å›½","v":"éŸ©å›½"},{"n":"å…¶ä»–","v":"å…¶ä»–"}]},{"key":"class","name":"ç±»å‹","value":[{"n":"å…¨éƒ¨","v":""},{"n":"çŠ¯ç½ª","v":"çŠ¯ç½ª"},{"n":"çºªå½•","v":"çºªå½•"},{"n":"çŸ­ç‰‡","v":"çŸ­ç‰‡"},{"n":"çœŸäººç§€","v":"çœŸäººç§€"},{"n":"æç¬‘","v":"æç¬‘"},{"n":"æ™šä¼š","v":"æ™šä¼š"},{"n":"å†å²","v":"å†å²"},{"n":"å–œå‰§","v":"å–œå‰§"},{"n":"ä¼ è®°","v":"ä¼ è®°"},{"n":"ç›¸å£°","v":"ç›¸å£°"},{"n":"æ­Œèˆ","v":"æ­Œèˆ"},{"n":"å†’é™©","v":"å†’é™©"},{"n":"è¿åŠ¨","v":"è¿åŠ¨"},{"n":"Season","v":"Season"}]},{"key":"by","name":"æ’åº","value":[{"n":"ç»¼åˆ","v":"ç»¼åˆ"},{"n":"æœ€æ–°","v":"æœ€æ–°"},{"n":"æœ€çƒ­","v":"æœ€çƒ­"}]}],
        "6":[{"key":"class","name":"ç±»å‹","value":[{"n":"å…¨éƒ¨","v":""},{"n":"ç‹çˆ·å¤ªå­","v":"ç‹çˆ·å¤ªå­"},{"n":"éœ¸é“æ€»è£","v":"éœ¸é“æ€»è£"},{"n":"å±Œä¸é€†è¢­","v":"å±Œä¸é€†è¢­"},{"n":"èµ˜å©¿ç³»åˆ—","v":"èµ˜å©¿ç³»åˆ—"},{"n":"é‡ç”Ÿç³»åˆ—","v":"é‡ç”Ÿç³»åˆ—"},{"n":"ç©¿è¶ŠçŸ­å‰§","v":"ç©¿è¶ŠçŸ­å‰§"},{"n":"ç¾å¥³æ€»è£","v":"ç¾å¥³æ€»è£"},{"n":"å¨‡å¦»ç³»åˆ—","v":"å¨‡å¦»ç³»åˆ—"},{"n":"é¾™ç‹ç³»åˆ—","v":"é¾™ç‹ç³»åˆ—"},{"n":"é¾™ç‹ç³»åˆ—","v":"é¾™ç‹ç³»åˆ—"}]},{"key":"by","name":"æ’åº","value":[{"n":"ç»¼åˆ","v":"ç»¼åˆ"},{"n":"æœ€æ–°","v":"æœ€æ–°"},{"n":"æœ€çƒ­","v":"æœ€çƒ­"}]}]},
}
